<!DOCTYPE HTML>
<html manifest="">
<head>
    <title>Criterion Self Service</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <link rel="icon" type="image/png" href="loader/favicon.ico">
    <link rel="stylesheet" href="loader/loader.css">
    <script>var criterion = {title : 'Criterion Self Service'};</script>
    <script type="text/javascript" src="libs/jed/jed.js"></script>
    <script type="text/javascript" src="loader/cr_i18n.js?v=24032020"></script>
    <script type="text/javascript" src="loader/config.js"></script>
    <script type="text/javascript" src="loader/environment.js"></script>
    <script type="text/javascript" src="loader/loader.js?v=24032020" id="loader"></script>
    <script type="text/javascript" src="loader/resource/js/url-polyfill.js"></script>
    <script id="microloader" type="text/javascript" src="bootstrap.js"
            data-app="5526739c-815a-4885-897c-94fe77711011"></script>
</head>

<body class="criterion-selfservice">
<div id="criterion-loader" class="x-unselectable">
    <div id="criterion-loader-container" class="criterion-loader-inner" style="opacity:0">
        <img id="criterion-loader-logo" alt="">
        <script type="text/javascript">
            !function() {
                function parseCookieValue(s) {
                    var value = s;

                    if (value.indexOf('"') === 0) {
                        value = value.slice(1, -1).replace(/\\("|\\)/g, '$1');
                    }

                    return value;
                }

                function getCookie(name) {
                    var cookies = document.cookie.split('; '),
                        value, parts, key, cookie;

                    if (!cookies || !cookies.length || cookies[0] == '') {
                        if (typeof Storage !== 'undefined') {
                            value = localStorage.getItem('cookie-' + name);

                            if (value) {
                                return value;
                            }

                            return;
                        }
                    }

                    for (var i = 0, l = cookies.length; i < l; i++) {
                        parts = cookies[i].split('=');
                        key = parts.shift();
                        cookie = parts.join('=');

                        if (key && key === name) {
                            value = parseCookieValue(cookie);
                            break;
                        }
                    }

                    return value;
                }

                function getTenantId() {
                    var token = getCookie('Authorization'),
                        base64 = token && token.split('.').length > 1 && token.split('.')[1].replace('-', '+').replace('_', '/'),
                        payload = base64 && JSON.parse(atob(base64));

                    return payload && payload['tenantId'];
                }

                var logo = document.getElementById('criterion-loader-logo'),
                    url = logo && !!criterion && !!criterion.API_TENANT_URL ? new URL(criterion.API_TENANT_URL) : null;

                if (logo) {
                    logo.src = (url ? url.origin : '') + '/tenant/logo/' + (getTenantId() || '0')
                }

                setTimeout(function() {
                    var loaderContainer = document.getElementById('criterion-loader-container');

                    loaderContainer && (loaderContainer.style.opacity = 1);
                }, 0);
            }();
        </script>
        <div class="loading-dots">
            <label>●</label>
            <label>●</label>
            <label>●</label>
            <label>●</label>
            <label>●</label>
            <label>●</label>
        </div>
    </div>
</div>
</body>
</html>
